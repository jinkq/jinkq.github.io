

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://jkq-pic.oss-cn-shanghai.aliyuncs.com/img/微信图片_20220916104850.jpg">
  <link rel="icon" href="https://jkq-pic.oss-cn-shanghai.aliyuncs.com/img/微信图片_20220916104850.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="冰柠果儿">
  <meta name="keywords" content="">
  
    <meta name="description" content="岭回归，LASSO回归">
<meta property="og:type" content="article">
<meta property="og:title" content="岭回归和LASSO回归">
<meta property="og:url" content="http://example.com/2023/03/03/%E6%95%B0%E5%AD%A6/%E5%B2%AD%E5%9B%9E%E5%BD%92%E5%92%8CLASSO%E5%9B%9E%E5%BD%92/index.html">
<meta property="og:site_name" content="冰柠果儿">
<meta property="og:description" content="岭回归，LASSO回归">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-03-03T06:32:33.914Z">
<meta property="article:modified_time" content="2023-03-30T01:39:39.277Z">
<meta property="article:author" content="冰柠果儿">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>岭回归和LASSO回归 - 冰柠果儿</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"♪","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"U9LIqIC6h4LdIbHbvS9engTE-9Nh9j0Va","app_key":"nMLuYyOqdaWa1PXufJuNqFGn","server_url":"https://u9liqic6.lc-cn-e1-shared.com","path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>冰柠果儿</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="岭回归和LASSO回归"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-03 14:32" pubdate>
          2023年3月3日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.9k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          50 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">岭回归和LASSO回归</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="岭回归和lasso回归">岭回归和LASSO回归</h1>
<h2 id="岭回归">岭回归</h2>
<p>和Beyesian回归比较</p>
<p>和PCA比较 <span class="math display">\[
L(\beta)=||Y-X\beta||^2+\lambda ||\beta||^2
\]</span></p>
<p>Ridge regression penalizes coefficients with L2 regularization. Ridge
regression can decrease some coefficients, but can not select features.
And it has closed form. Under the condition of many small/medium sized
effects, using ridge regression is better.</p>
<ul>
<li>有偏估计</li>
</ul>
<h4 id="岭回归模型">岭回归模型</h4>
<p><span class="math display">\[
\begin{aligned}
\frac{\partial L}{\partial \beta}&amp;=-2X^\top(Y-X\beta)+2\lambda
\beta\\
&amp;=2(X^\top X+\lambda I_{pp})\beta-2X^\top Y\\
&amp;=0
\end{aligned}
\]</span> <span class="math display">\[
\hat{\beta}_{ridge}=(X^\top X+\lambda I_{pp})^{-1}X^\top Y
\]</span></p>
<h5 id="期望和方差">期望和方差</h5>
<p><span class="math display">\[
\begin{aligned}
E[\hat{\beta}_{ridge}]&amp;=E[(X^\top X+\lambda I_{pp})^{-1}X^\top Y]\\
&amp;=(X^\top X+\lambda I_{pp})^{-1}X^\top E[Y]\\
&amp;=(X^\top X+\lambda I_{pp})^{-1}X^\top X \beta\\
&amp;\ne \beta
\end{aligned}
\]</span></p>
<p>Denote <span class="math inline">\(\hat{\beta}\)</span> as the
estimate of ordinary linear regression, and <span
class="math inline">\(W_\lambda = (X^\top X+\lambda I_{pp})^{-1}X^\top
X\)</span>. Then <span class="math display">\[
\begin{aligned}
W_\lambda \hat{\beta} &amp;= (X^\top X+\lambda I_{pp})^{-1}X^\top X
(X^\top X)^{-1}X^\top Y\\
&amp;=(X^\top X+\lambda I_{pp})^{-1}X^\top Y\\
&amp;=\hat{\beta}_{ridge}
\end{aligned}
\]</span> Since <span class="math display">\[
((X^\top X)^{-1})^\top=((X^\top X)^{\top})^{-1}=(X^\top X)^{-1}
\]</span> <span class="math display">\[
Var(\hat{\beta})=\sigma^2 (X^\top X)^{-1}
\]</span></p>
<p>then</p>
<p><span class="math display">\[
\begin{aligned}
Var(\hat{\beta}_{ridge})&amp;=Var(W_\lambda \hat{\beta})\\
&amp;=E[(W_\lambda \hat{\beta}-W_\lambda \beta)(W_\lambda
\hat{\beta}-W_\lambda \beta)^\top]\\
&amp;=W_\lambda E[ \hat{\beta}\hat{\beta}^\top] W_\lambda^\top-W_\lambda
\beta \beta^\top W_\lambda^\top\\
&amp;=W_\lambda (\beta\beta^\top +\sigma^2(X^\top
X)^{-1})W_\lambda^\top-W_\lambda \beta \beta^\top W_\lambda^\top\\
&amp;=\sigma^2 W_\lambda (X^\top X)^{-1} W_\lambda^\top\\
&amp;=\sigma^2 (X^\top X+\lambda I_{pp})^{-1}X^\top X [(X^\top X+\lambda
I_{pp})^{-1}]^\top
\end{aligned}
\]</span></p>
<h3 id="岭回归vs线性回归">岭回归vs线性回归</h3>
<h4 id="方差">方差</h4>
<p><span class="math display">\[
\begin{aligned}
    Var(\hat{\beta})-Var(\hat{\beta}_{ridge})&amp;=\sigma^2 (X^\top
X)^{-1}-\sigma^2 (X^\top X+\lambda I_{pp})^{-1}X^\top X [(X^\top
X+\lambda I_{pp})^{-1}]^\top\\
    &amp;=\sigma^2 W_\lambda[2\lambda(X^\top X)^{-2}+\lambda^2 (X^\top
X)^{-3}]W_\lambda^\top\\
    &amp;=\sigma^2(X^\top X+\lambda I_{pp})^{-1}[2\lambda
I_{pp}+\lambda^2(X^\top X)^{-1}][(X^\top X+\lambda I_{pp})^{-1}]^\top
\end{aligned}
\]</span> The difference is non-negative definite as each component in
the matrix product is non-negative definite. <span
class="math display">\[
Var(\hat{\beta})\succcurlyeq  Var(\hat{\beta}_{ridge})
\]</span> Hence, he variance of the ridge estimator is less than the
variance of the maximum likelihood estimator for the ordinary regression
model.</p>
<h4 id="mse">MSE</h4>
<p><span class="math display">\[
MSE[\hat{\beta}_{ridge}]=Var(\hat{\beta}_{ridge})+Bias^2(\hat{\beta}_{ridge})
\]</span> <span class="math display">\[
MSE[\hat{\beta}]=Var(\hat{\beta})+Bias^2(\hat{\beta})=Var(\hat{\beta})
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
Bias^2(\hat{\beta}_{ridge})&amp;=(E[\hat{\beta}_{ridge}-\beta])^2\\
&amp;=[(X^\top X+\lambda I_{pp})^{-1}X^\top X \beta-\beta]^2\\
&amp;=[(X^\top X+\lambda I_{pp})^{-1}(X^\top X+\lambda I_{pp}-\lambda
I_{pp}) \beta-\beta]^2\\
&amp;=[-\lambda(X^\top X+\lambda I_{pp})^{-1} \beta]^2\\
&amp;=\lambda^2 (X^\top X+\lambda I_{pp})^{-1} \beta \beta^\top[(X^\top
X+\lambda I_{pp})^{-1} ]^\top
\end{aligned}
\]</span> <span class="math display">\[
\begin{aligned}
    MSE[\hat{\beta}]-MSE[\hat{\beta}_{ridge}]&amp;=Var(\hat{\beta})-Var(\hat{\beta}_{ridge})-Bias^2(\hat{\beta}_{ridge})\\
    &amp;=\sigma^2(X^\top X+\lambda I_{pp})^{-1}[2\lambda
I_{pp}+\lambda^2(X^\top X)^{-1}][(X^\top X+\lambda I_{pp})^{-1}]^\top\\
    &amp;\quad -\lambda^2 (X^\top X+\lambda I_{pp})^{-1} \beta
\beta^\top[(X^\top X+\lambda I_{pp})^{-1} ]^\top\\
    &amp;=\lambda(X^\top X+\lambda
I_{pp})^{-1}[2\sigma^2I_{pp}+\lambda\sigma^2(X^\top X)^{-1}-\lambda
\beta \beta^\top]\\
    &amp;\quad [(X^\top X+\lambda I_{pp})^{-1}]^\top
\end{aligned}
\]</span> <span
class="math inline">\(MSE[\hat{\beta}]-MSE[\hat{\beta}_{ridge}]\succeq
0\)</span> only when <span
class="math inline">\(2\sigma^2I_{pp}+\lambda\sigma^2(X^\top
X)^{-1}-\lambda \beta \beta^\top\succeq 0\)</span>, that is <span
class="math inline">\(2\sigma^2I_{pp}-\lambda \beta \beta^\top\succeq
0\)</span>, <span class="math inline">\(\lambda \leqslant
2\sigma^2(\beta^\top\beta)^{-1}\)</span>.</p>
<h4 id="优劣势">优劣势</h4>
<p>线性回归和岭回归都是线性模型，用于拟合数据之间的线性关系。它们的主要区别在于模型复杂度的控制和正则化项的引入。</p>
<p>通常来说，当训练数据的特征数比样本数大很多，或者特征之间存在多重共线性（即某些特征之间存在较高的相关性），线性回归的表现会比较差，此时可以使用岭回归。</p>
<p>另外，在存在离群点（outlier）的情况下，线性回归的表现也可能较差，因为离群点会对模型产生较大的影响。此时，可以使用带有正则化项的岭回归来降低离群点的影响。</p>
<p>总之，当样本数比特征数多，且不存在多重共线性或离群点时，线性回归可能会是更好的选择；而当特征数比样本数大或存在多重共线性或离群点时，岭回归可能会表现更好。当然，最好的方法是尝试不同的模型并进行比较。</p>
<h2 id="lasso回归">LASSO回归</h2>
<p><span class="math display">\[
L(\beta)=||Y-X\beta||^2+\lambda ||\beta||^1
\]</span></p>
<p>LASSO regression penalizes coefficients with L1 regularization. LASSO
regression can make some coefficients exactly equal to 0, achieving
feature selection. But it has no closed form. Under the condition of
only a few variables with medium/large effect, using LASSO regression is
better</p>
<h2 id="岭回归-vs-lasso回归">岭回归 vs LASSO回归</h2>
<p>岭回归和Lasso回归是两种经典的正则化线性回归算法，它们都是通过在代价函数中引入正则化项来控制模型复杂度，避免过拟合。两者的主要区别在于使用的正则化项不同，岭回归使用L2正则化，而Lasso回归使用L1正则化。这两种正则化方式对应的参数惩罚项分别是参数平方和和参数绝对值和。</p>
<p>Ridge regression penalizes coefficents with <span
class="math inline">\(L_2\)</span> regularization.Ridge regression can
decrease some coefficients, but can not select features. And it has
closed form. Under the condition of many small/medium sized effects,
using ridge regression is better.</p>
<p>LASSO regression penalizes coefficents with <span
class="math inline">\(L_1\)</span> regularization. LASSO regression can
make some coefficients exactly equal to 0, achieving feature selection.
But it has no closed form. Under the condition of only a few variables
with medium/large effect, using LASSO regression is better.</p>
<h3 id="岭回归的优势">岭回归的优势</h3>
<ol type="1">
<li>可以处理多重共线性：当数据中存在多个高度相关的自变量时，最小二乘回归会导致过拟合，而岭回归可以通过对参数进行平滑处理，减小多重共线性的影响，提高模型的鲁棒性。</li>
<li>对异常值不敏感：由于岭回归对参数进行了平滑处理，因此可以有效地降低异常值的影响，提高模型的稳定性。</li>
<li>可以得到更加稳定的结果：由于岭回归引入的L2正则化项能够控制模型的复杂度，因此可以有效地减小模型的方差，降低模型的波动性，从而得到更加稳定的结果。</li>
<li>有闭式解</li>
</ol>
<h3 id="lasso回归的优势">Lasso回归的优势</h3>
<ol type="1">
<li>可以进行特征选择：由于L1正则化倾向于将一些参数压缩到0，因此可以用于特征选择，即通过Lasso回归来筛选出对目标变量有重要影响的特征，从而减小模型的复杂度。</li>
<li>可以用于稀疏数据集：在处理稀疏数据集时，Lasso回归通常比岭回归更为有效，因为L1正则化能够将某些系数压缩为0，从而能够更好地处理稀疏数据。</li>
</ol>
<p>LASSO回归无闭式解：L1正则化项对于参数的求导结果不是可解析的，因此无法直接求出最小化目标函数时的回归系数的闭式解。</p>
<p>为了解决LASSO回归无法直接求解的问题，通常采用迭代算法来逼近最小化目标函数时的回归系数。常用的算法有坐标下降（Coordinate
Descent）算法、最小角回归（Least Angle Regression,
LAR）算法、以及基于梯度下降（Gradient
Descent）的算法等。这些算法都可以在一定程度上逼近最小化目标函数时的回归系数，但无法得到闭式解。</p>
<p>综上所述，岭回归和Lasso回归都是非常实用的线性回归算法，在不同的应用场景下具有不同的优势。如果数据集中存在多重共线性，或者需要得到更加稳定的结果，岭回归可能更加合适；而如果需要进行特征选择或者处理稀疏数据集，则Lasso回归可能更加适用。</p>
<h3 id="ridge-vs-lasso稀疏解">Ridge vs LASSO稀疏解</h3>
<p>图中彩色线条即为目标函数的等高线，黑色线条即为约束条件。根据岭回归和LASSO回归的约束条件，分别得到下图两个图像。</p>
<p><img
src="https://jkq-pic.oss-cn-shanghai.aliyuncs.com/img/20230131092039.png" srcset="/img/loading.gif" lazyload /></p>
<p>右图为LASSO回归图像，目标函数的等高线，大部分时候都会在角的地方相交。例如图中所示，横坐标
<span
class="math inline">\(\hat{\beta}_1\)</span>即为0，因此就产生了稀疏性【在高纬度情况下，同样道理】；而在岭回归的图像中，约束条件画出来是一个圆，所以相交的地方出现在具有稀疏性的位置的概率就变得非常小了。<strong>这就从直观上来解释了为什么LASSO回归能产生稀疏性，而岭回归不行的原因了。</strong></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E5%AD%A6/" class="category-chain-item">数学</a>
  
  
    <span>></span>
    
  <a href="/categories/%E6%95%B0%E5%AD%A6/%E5%9B%9E%E5%BD%92/" class="category-chain-item">回归</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>岭回归和LASSO回归</div>
      <div>http://example.com/2023/03/03/数学/岭回归和LASSO回归/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>冰柠果儿</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年3月3日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/03/03/%E6%95%B0%E5%AD%A6/%E9%9A%8F%E6%9C%BA%E8%BF%87%E7%A8%8B/" title="随机过程">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">随机过程</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/03/03/%E6%95%B0%E5%AD%A6/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" title="线性回归">
                        <span class="hidden-mobile">线性回归</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
