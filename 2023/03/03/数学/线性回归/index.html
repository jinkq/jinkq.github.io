

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://jkq-pic.oss-cn-shanghai.aliyuncs.com/img/微信图片_20220916104850.jpg">
  <link rel="icon" href="https://jkq-pic.oss-cn-shanghai.aliyuncs.com/img/微信图片_20220916104850.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="冰柠果儿">
  <meta name="keywords" content="">
  
    <meta name="description" content="基本假设，BLUE，评价指标">
<meta property="og:type" content="article">
<meta property="og:title" content="线性回归">
<meta property="og:url" content="http://example.com/2023/03/03/%E6%95%B0%E5%AD%A6/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/index.html">
<meta property="og:site_name" content="冰柠果儿">
<meta property="og:description" content="基本假设，BLUE，评价指标">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-03-03T06:28:36.465Z">
<meta property="article:modified_time" content="2023-03-30T02:07:25.393Z">
<meta property="article:author" content="冰柠果儿">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>线性回归 - 冰柠果儿</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"♪","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"U9LIqIC6h4LdIbHbvS9engTE-9Nh9j0Va","app_key":"nMLuYyOqdaWa1PXufJuNqFGn","server_url":"https://u9liqic6.lc-cn-e1-shared.com","path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>冰柠果儿</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="线性回归"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-03 14:28" pubdate>
          2023年3月3日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          46 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">线性回归</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h1><h2 id="基本假设"><a href="#基本假设" class="headerlink" title="基本假设"></a>基本假设</h2><ol>
<li><p>The Two Variables Should be in a <strong>Linear</strong> Relationship</p>
<ul>
<li>检验方法：散点图scatter plot</li>
<li>解决：According to the characteristics of the data, perform non-linear transformation on the independent&#x2F;dependent variables. For example, take square, cubic, logarithmic, etc</li>
</ul>
</li>
<li><p>residuals follow <strong>normal distribution</strong></p>
<ul>
<li>检验方法：QQ图（quantile of target distribution and sample distribution, if the data points are distributed near the straight line y&#x3D;x)或ks检验</li>
<li>影响：置信区间会变得很不稳定</li>
<li>解决：<ul>
<li>寻找遗漏的自变量</li>
<li>检验并剔除异常值</li>
<li>对自变量和&#x2F;或因变量进行非线性变换</li>
</ul>
</li>
</ul>
</li>
<li><p>There Should be No <strong>Multicollinearity</strong> in the Data多重共线性</p>
<ul>
<li>Independent variables shall be independent of each other</li>
<li>检验方法：<ul>
<li>VIF (variance inflation factor)(&lt;10 is ok), $VIF&#x3D;\frac{1}{1-R^2}$，$R^2$ is the multiple correlation coefficient of linear regression with this variable as the dependent variable and the other variables as the independent variables. 表示It represents the variance of the regression coefficient estimator over the variance when the independent variables without multicollinearity</li>
<li>correlation matrix (&gt;0.8)【VIF和corr有关，VIF &#x3D; 皮尔逊相关系数矩阵的余子式&#x2F;皮尔逊相关系数矩阵的行列式】</li>
</ul>
</li>
<li>影响：<ul>
<li>high correlated: variance of estimate be larger</li>
<li>strict correlated: The rank of the X will be smaller than the number of independent variables, making (XTX) irreversible, the estimate has no solution</li>
</ul>
</li>
<li>解决：<ul>
<li>For highly correlated independent variables, only reserve one of them</li>
<li>PCA</li>
<li>Ridge&#x2F;LASSO</li>
</ul>
</li>
</ul>
</li>
<li><p>There Should be No <strong>Autocorrelation</strong> in the Data自相关性</p>
<ul>
<li>The residuals should be independent of each other.</li>
<li>检验方法：DW Statistics</li>
<li>影响：【自相关不影响无偏性、一致性、渐进正态】Reduce the accuracy of the model</li>
<li>解决：<ul>
<li>GLS</li>
<li>ARIMA</li>
</ul>
</li>
</ul>
</li>
<li><p>There Should be <strong>Homoscedasticity</strong> Among the Data同方差性</p>
<ul>
<li>The variance of the residuals should be constant</li>
<li>检验方法：White Test</li>
<li>影响：【异方差不影响无偏性、渐进正态】，估计不有效，误差较大</li>
<li>解决：<ul>
<li>使用稳健回归。即，不实用最小二乘法的平方和形式的目标函数，从而降低了残差方差较大的数据点对参数估计的影响。</li>
<li>使用加权回归。即，根据每个数据点的拟合值的方差为每个数据点分配一个权重，给予较高方差的数据点较小的权重，从而缩小残差和</li>
</ul>
</li>
</ul>
</li>
<li><p>exogenous外生性</p>
<ul>
<li><p>The <strong>residuals</strong> should be independent to independent variables. 残差向量和每一个解释变量正交</p>
</li>
<li><p>$E(\varepsilon|X)&#x3D;0$, condition on X, the expectation of residual is 0.</p>
</li>
</ul>
</li>
</ol>
<h2 id="OLS优良性质"><a href="#OLS优良性质" class="headerlink" title="OLS优良性质"></a>OLS优良性质</h2><h3 id="BLUE"><a href="#BLUE" class="headerlink" title="BLUE"></a>BLUE</h3><p>在经典假设下，OLS估计量估计量具有，线性、无偏性和有效性三个优良性质，称为最佳线性无偏估计量（best linear unbiased estimator,BLUE）</p>
<h3 id="大样本"><a href="#大样本" class="headerlink" title="大样本"></a>大样本</h3><ul>
<li>一致：$\underset{n\rightarrow \infty}{plim}\hat{\beta_n}&#x3D;\beta$</li>
<li>渐进正态Asymptotic normal distribution：$\hat{\beta_n}\xrightarrow{d} N(\beta, \frac{\sigma^2}{n})$</li>
</ul>
<h2 id="线性回归模型"><a href="#线性回归模型" class="headerlink" title="线性回归模型"></a>线性回归模型</h2><p>$$<br>Y&#x3D;X\beta+\varepsilon<br>$$</p>
<p>$$<br>\begin{aligned}<br>L_\beta &amp;&#x3D;(Y-X\beta)^\top (Y-X\beta)\<br>&amp;&#x3D;Y^\top Y-Y^\top X\beta-\beta^\top X^\top Y+\beta^\top X^\top X\beta<br>\end{aligned}<br>$$</p>
<p>$$<br>\begin{aligned}<br>\frac{\partial L_\beta}{\partial \beta}&amp;&#x3D;-X^\top Y-X^\top Y +X^\top X\beta+(\beta^\top X^\top X)^\top\<br>&amp;&#x3D;-2X^\top Y+2X^\top X\beta\<br>&amp;&#x3D;2X^\top (X\beta - Y)\<br>&amp;&#x3D;0<br>\end{aligned}<br>$$</p>
<p>$$<br>\hat{\beta}&#x3D;(X^\top X)^{-1}X^\top Y<br>$$</p>
<h3 id="梯度下降法求解-hat-beta"><a href="#梯度下降法求解-hat-beta" class="headerlink" title="梯度下降法求解$\hat{\beta}$"></a>梯度下降法求解$\hat{\beta}$</h3><p>梯度下降法损失函数用MSE：<br>$$<br>MSE(\beta)&#x3D;\frac{1}{n}(Y-X\beta)^\top (Y-X\beta)<br>$$</p>
<p>$$<br>\nabla MSE(\beta)&#x3D;\frac{2}{n}X^\top (X\beta - Y)<br>$$</p>
<p>梯度下降：<br>$$<br>\beta &#x3D; \beta-\alpha\nabla MSE(\beta)<br>$$<br>其中$\alpha$是学习率</p>
<h4 id="梯度下降法损失函数用MSE的原因"><a href="#梯度下降法损失函数用MSE的原因" class="headerlink" title="梯度下降法损失函数用MSE的原因"></a>梯度下降法损失函数用MSE的原因</h4><p>在使用梯度下降法求解线性回归时，常用的损失函数是均方误差（MSE）而不是误差平方和（SSE）。</p>
<p>误差平方和（SSE）是指所有样本点的预测值与真实值之差的平方和，而均方误差（MSE）是指所有样本点的预测值与真实值之差的平方和除以样本数量。这两个指标在一定程度上是相关的，但在优化过程中，使用MSE可以更好地优化模型。</p>
<ul>
<li>MSE可以缓解样本数量的影响。SSE随着样本数量的增加而增加，而MSE则不会随样本数量变化而变化，这使得使用MSE更具有泛化性能。因此，当使用梯度下降算法优化模型时，使用MSE可以更好地应对不同大小的数据集，而不需要调整超参数</li>
</ul>
<p>综上所述，使用MSE作为损失函数可以更好地应对不同大小的数据集，并且可以使梯度下降算法更加高效</p>
<h3 id="期望和方差"><a href="#期望和方差" class="headerlink" title="期望和方差"></a>期望和方差</h3><p>$$<br>\begin{aligned}<br>E[\hat{\beta}]&amp;&#x3D;E[(X^\top X)^{-1}X^\top (X\beta+\varepsilon)]\<br>&amp;&#x3D;(X^\top X)^{-1}X^\top X\beta + (X^\top X)^{-1}X^\top E[\varepsilon]\<br>&amp;&#x3D;\beta<br>\end{aligned}<br>$$</p>
<p>$$<br>\begin{aligned}<br>Var(\hat{\beta})&amp;&#x3D;E[(\hat{\beta}-E[\hat{\beta}])(\hat{\beta}-E[\hat{\beta}])]\<br>&amp;&#x3D;E[(\hat{\beta} -\beta)(\hat{\beta}-\beta)^\top]\<br>                &amp;&#x3D;E[\hat{\beta}\hat{\beta}^\top-\hat{\beta} \beta^\top -\beta \hat{\beta}^\top +\beta \beta^\top]\<br>                &amp;&#x3D;E[\hat{\beta}\hat{\beta}^\top]-E[\hat{\beta}]\beta^\top-\beta E[\hat{\beta}^\top]+\beta \beta^\top\<br>                &amp;&#x3D;E[(X^\top X)^{-1}X^\top YY^\top X((X^\top X)^{-1})^\top]-\beta\beta^\top-\beta \beta^\top+\beta \beta^\top\<br>                &amp;&#x3D;(X^\top X)^{-1}X^\top E[YY^\top]X(X^\top X)^{-1}-\beta\beta^\top\<br>                &amp;&#x3D;(X^\top X)^{-1}X^\top E[(X\beta + \varepsilon)(X\beta + \varepsilon)^\top]X(X^\top X)^{-1}-\beta\beta^\top\<br>                &amp;&#x3D;(X^\top X)^{-1}X^\top E[(X\beta + \varepsilon)(\beta^\top X^\top + \varepsilon^\top)]X(X^\top X)^{-1}-\beta\beta^\top\<br>                &amp;&#x3D;(X^\top X)^{-1}X^\top E[X\beta \beta^\top X^\top + X\beta\varepsilon^\top+\varepsilon\beta^\top X^\top +\varepsilon \varepsilon^\top]X(X^\top X)^{-1}-\beta\beta^\top\<br>                &amp;&#x3D;(X^\top X)^{-1}X^\top (X\beta \beta^\top X^\top + \sigma^2 I_n )X(X^\top X)^{-1}-\beta\beta^\top\<br>                &amp;&#x3D;\beta\beta^\top +\sigma^2 (X^\top X)^{-1}-\beta\beta^\top\<br>                &amp;&#x3D;\sigma^2 (X^\top X)^{-1}<br>\end{aligned}<br>$$</p>
<h2 id="评价指标"><a href="#评价指标" class="headerlink" title="评价指标"></a>评价指标</h2><h3 id="R-2"><a href="#R-2" class="headerlink" title="$R^2$"></a>$R^2$</h3><h4 id="平方和分解公式"><a href="#平方和分解公式" class="headerlink" title="平方和分解公式"></a>平方和分解公式</h4><p>成立条件：</p>
<p>$\hat{y}$和$e$正交<br>$$<br>\hat{y}^\top e&#x3D;(X\hat{\beta})^\top e&#x3D;\hat{\beta}^\top X^\top e&#x3D;0<br>$$</p>
<p>$$<br>y&#x3D;\hat{y}+e<br>$$</p>
<p>回归平方和：ESS (explained sum of squares)</p>
<p>残差平方和：RSS(residual sum of squares)</p>
<p>总离差平方和：TSS(total sum of squares)</p>
<p>RSS+ESS&#x3D;TSS</p>
<p>$$<br>ESS&#x3D;\sum^n_{i&#x3D;1}(\hat{y_i}-\bar{y})^2\<br>RSS&#x3D;\sum^n_{i&#x3D;1}(\hat{y_i}-y_i)^2\<br>TSS&#x3D;\sum^n_{i&#x3D;1}(y_i-\bar{y})^2<br>$$</p>
<p>$$<br>R^2&#x3D;\frac{ESS}{TSS}&#x3D;1-\frac{RSS}{TSS}&#x3D;\frac{Var(\hat{y})}{Var(y)}&#x3D;1-\frac{MSE}{Var(y)}<br>$$</p>
<p>$$<br>TSS&#x3D;ESS+RSS\<br>\sum(y_i-\bar{y})^2&#x3D;\sum (\hat{y}_i-\bar{y})^2+\sum e_i^2<br>$$</p>
<h4 id="R-2-1"><a href="#R-2-1" class="headerlink" title="$R^2$"></a>$R^2$</h4><p>R²是指拟合优度，是回归直线对观测值的拟合程度。</p>
<p>R-square is used to evaluate the goodness of fit of a linear regression model. It is a value between 0 and 1 and itrepresents the proportion of the variation in the dependent variable that is explained by the independent variables in the model.</p>
<p>因变量的变化有多少比例可以由自变量解释</p>
<h4 id="R-2-的缺陷"><a href="#R-2-的缺陷" class="headerlink" title="$R^2$的缺陷"></a>$R^2$的缺陷</h4><ul>
<li>对异常值敏感（平方项）</li>
<li>对自变量个数敏感（增加个数会增大$R^2$）</li>
<li>无法区分线性与非线性关系</li>
</ul>
<h4 id="样本外-R-2-为负数"><a href="#样本外-R-2-为负数" class="headerlink" title="样本外$R^2$为负数"></a>样本外$R^2$为负数</h4><p>RSS&gt;TSS</p>
<h4 id="调整-R-2-（很多变量）"><a href="#调整-R-2-（很多变量）" class="headerlink" title="调整$R^2$（很多变量）"></a>调整$R^2$（很多变量）</h4><p>The adjusted R square takes into account the influence of sample size and the number of independent variables in the regression.</p>
<p>$R^2$问题：增加自变量的个数会使$R^2$增大</p>
<p>解决方法：调整$R^2$<br>$$<br>R_{adj}&#x3D;1-\frac{\frac{RSS}{n-p-1}}{\frac{TSS}{n-1}}<br>$$<br>$p$是自变量个数，$n$是样本数量</p>
<p>问题：可能为负</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E5%AD%A6/" class="category-chain-item">数学</a>
  
  
    <span>></span>
    
  <a href="/categories/%E6%95%B0%E5%AD%A6/%E5%9B%9E%E5%BD%92/" class="category-chain-item">回归</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>线性回归</div>
      <div>http://example.com/2023/03/03/数学/线性回归/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>冰柠果儿</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年3月3日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/03/03/%E6%95%B0%E5%AD%A6/%E5%B2%AD%E5%9B%9E%E5%BD%92%E5%92%8CLASSO%E5%9B%9E%E5%BD%92/" title="岭回归和LASSO回归">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">岭回归和LASSO回归</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/03/03/%E6%95%B0%E5%AD%A6/%E7%BB%9F%E8%AE%A1/" title="统计">
                        <span class="hidden-mobile">统计</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
